@import "tailwindcss";

/* Use class-based dark mode instead of media query */
@custom-variant dark (&:where(.dark, .dark *));

/* Temperature-based primary color system using lab() for perceptual uniformity */
:root {
  --color-primary: lab(86.93% -1.92 87.14);
  --color-primary-rgb: 255, 215, 0;
  --color-primary-text: lab(0% 0 0);
  --color-primary-contrast: 15.42;
  --color-primary-light: lab(91.45% -3.5 78.56);
  --color-primary-dark: lab(74.62% -0.42 72.35);
  --color-primary-alpha: lab(86.93% -1.92 87.14 / 0.2);
  --gradient-temp-low: lab(86.93% -1.92 87.14);
  --gradient-temp-high: lab(86.93% -1.92 87.14);
  --gradient-text: lab(0% 0 0);
  --button-gradient: linear-gradient(in lab 135deg, var(--gradient-temp-low), var(--gradient-temp-high));
}

/* Custom component styles */
@layer components {
  /* Skeleton loading animation */
  .skeleton {
    @apply relative overflow-hidden;
    background: linear-gradient(90deg,
      var(--skeleton-base) 0%,
      var(--skeleton-shine) 50%,
      var(--skeleton-base) 100%);
    background-size: 200% 100%;
    animation: skeleton-shimmer 1.5s infinite;
  }

  :root {
    --skeleton-base: theme(colors.gray.200);
    --skeleton-shine: theme(colors.gray.300);
  }

  .dark {
    --skeleton-base: theme(colors.gray.700);
    --skeleton-shine: theme(colors.gray.600);
  }

  @keyframes skeleton-shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }

  /* Skeleton card variants with aspect ratios matching actual cards */
  .skeleton-card {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden break-inside-avoid mb-6;
  }

  .skeleton-current {
    aspect-ratio: 1200 / 800;
  }

  .skeleton-day {
    aspect-ratio: 1200 / 600;
  }

  .skeleton-forecast {
    aspect-ratio: 1200 / 700;
  }
}

/* Primary color utilities that use CSS variables */
@layer utilities {
  .bg-primary {
    background-color: var(--color-primary);
  }
  .bg-primary-light {
    background-color: var(--color-primary-light);
  }
  .bg-primary-dark {
    background-color: var(--color-primary-dark);
  }
  .bg-primary-alpha {
    background-color: var(--color-primary-alpha);
  }
  .bg-primary-gradient {
    background: var(--button-gradient);
  }
  .text-primary {
    color: var(--color-primary);
  }
  .text-primary-text {
    color: var(--color-primary-text);
  }
  .text-gradient-text {
    color: var(--gradient-text);
  }
  .text-primary-light {
    color: var(--color-primary-light);
  }
  .text-primary-dark {
    color: var(--color-primary-dark);
  }
  .border-primary {
    border-color: var(--color-primary);
  }
  .border-primary-dark {
    border-color: var(--color-primary-dark);
  }
  .ring-primary {
    --tw-ring-color: var(--color-primary);
  }
  .hover\:bg-primary-light:hover {
    background-color: var(--color-primary-light);
  }
  .hover\:bg-primary-dark:hover {
    background-color: var(--color-primary-dark);
  }
}
